# テストチェックリスト

## 1. カード管理
- [ ] 新規カードを追加できる（画像あり）
- [ ] 新規カードを追加できる（画像なし）
- [ ] カード編集ができる
- [ ] 編集内容が一覧・詳細に反映される
- [ ] カードを削除できる
- [ ] 削除後に一覧へ正しく戻る

## 2. 一覧・検索・フィルタ
- [ ] カード一覧が表示される
- [ ] 画像ありカードが正しく表示される
- [ ] 画像なしカードで no_image が表示される
- [ ] 出品中バッジが正しく表示される
- [ ] 出品中カードのみフィルタできる
- [ ] 未出品カードのみフィルタできる
- [ ] フィルタ解除で全件表示に戻る
- [ ] ウィッシュリストのみ表示できる
- [ ] 検索でカード名がヒットする
- [ ] 検索で説明文がヒットする
- [ ] 検索でタグがヒットする
- [ ] 並び順（新しい順）が正しく動作する
- [ ] 並び順（古い順）が正しく動作する
- [ ] 並び順（価格 高→低）が正しく動作する
- [ ] 並び順（価格 低→高）が正しく動作する
- [ ] 並び順（A→Z）が正しく動作する
- [ ] タグが2つまで表示され、3つ目以降が「+N」で省略される

## 3. フリマ管理
- [ ] カード詳細から出品画面へ遷移できる
- [ ] カード名・価格・画像が初期入力される
- [ ] 出品データを新規登録できる
- [ ] 出品データを編集できる
- [ ] 出品中ステータスが一覧に反映される
- [ ] 売却済みに変更できる
- [ ] 売却済みカードが「出品中」に表示されない
- [ ] 出品削除ができる
- [ ] 削除後に一覧が正しく更新される
- [ ] cardId が存在しない出品データがあっても画面が落ちない

## 4. 統計画面
- [ ] 統計画面に遷移できる
- [ ] データが0件でもエラー表示にならない
- [ ] 月別データが正しく集計されている
- [ ] 棒グラフが表示される
- [ ] Y軸が適切な刻み（例：2500 / 5000 / 10000）で表示される
- [ ] MAXラインが表示される
- [ ] 補助線が薄い点線で表示される
- [ ] 月ラベルが正しく表示される
- [ ] 画面崩れがない（横スクロールなし）

## 5. バックアップ（Export / Import）
### Export
- [ ] エクスポートが実行できる
- [ ] JSONファイルが生成される
- [ ] Shareシートが表示される
- [ ] Filesアプリに保存できる
- [ ] 保存したJSONを確認できる

### Import
- [ ] 正しいバックアップファイルをインポートできる
- [ ] 全データインポートが成功する
- [ ] カードのみインポートが成功する
- [ ] 出品データのみインポートが成功する
- [ ] インポート後に一覧が更新される
- [ ] 空データのバックアップでエラーメッセージが表示される
- [ ] 他アプリのJSONを選んだ場合にエラーになる
- [ ] 画像が復元されない旨がUIで理解できる

## 6. 異常系・エッジケース
- [ ] データが1件もない状態で起動できる
- [ ] cards が空でもクラッシュしない
- [ ] purchases が空でもクラッシュしない
- [ ] 出品データの cardId が存在しなくても表示できる
- [ ] 画像ファイルが存在しなくても表示できる
- [ ] 連続で画面遷移してもクラッシュしない
- [ ] 戻る操作で意図しない画面に戻らない
- [ ] アプリ再起動後もデータが保持されている

